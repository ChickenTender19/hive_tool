<%- include("partials/header")%>
  <%- include("partials/navbar")%>
    <div class="container text-center text-michgold ">
      <%- include("partials/title")%>

        <div class="row row-cols-1 row-cols-lg-3 g-2">
          <!-- Harvest Card -->
          <% data.forEach((harvest) => {%>
          <div class="col">
            <div class="container px-2" style="max-width: 500px">
              <div class="card text-michgold border-michgold rounded-5 border-3">
                <div class="fw-bold text-center fs-5 p-2"><%= harvest.harvestDate %></div>
                <div
                  class="card-body mt-2 pb-2 mx-2 mb-3 pt-0 d-flex fs-3 justify-content-between"
                >
                <!-- Assuming this is the template for your card -->
                <div class="icon" data-harvest-type="<%= harvest.harvestType %>">
                </div>

                  <span class="fs-3 mt-3 fw-bold"><%= harvest.harvestType %></span>
                  <div class="mt-3">+ <%= harvest.harvestAmount %> Lbs</div>
                </div>
                <div class="d-flex justify-content-between mx-3 mb-2">
                  <form action="/harvest/delete/<%= harvest.id %>?_method=DELETE" method="post">
                    <input type="hidden" name="_method"
                    value="DELETE">
                    <input type="submit" value="DELETE" name="" id="" class="btn rounded-5 btn-outline-danger">
                  </form>
                  <a
                    href="/harvest/edit/<%= harvest.id %>"
                    class="btn btn-outline-warning rounded-5 px-4"
                    style="max-width: 30vw"
                    >EDIT</a
                  >
                </div>
              </div>
            </div>
          </div>
            <% }) %>
        </div> 
      
        <!-- Harvest Card End-->
      
        <div class="fixedBtn" >
          <a
          href="harvest-form"
          type="button"
          class="btn btn-lg px-4  btn-michgold btn-gold rounded-pill "
          style="
          position: fixed;
          left: 40%;
          top: 78%;
        ">
          ADD
        </a>
        </div>
    </div>
  
      <%- include("partials/footer")%>
      <script>
            document.addEventListener('DOMContentLoaded', function () {
            var iconContainers = document.querySelectorAll(".icon");

            iconContainers.forEach(function (iconContainer) {
                var harvestType = iconContainer.getAttribute("data-harvest-type");

                // Remove existing classes
                iconContainer.classList.remove("svg-honey", "svg-wax");

                // Add the appropriate class based on harvestType
                if (harvestType === "HONEY") {
                    iconContainer.classList.add("svg-honey");
                } else {
                    iconContainer.classList.add("svg-wax");
                }
            });
        });

      </script>
      
      
  
     
    </body>
  </html>
