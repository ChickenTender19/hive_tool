<footer class="text-center mt-5">
  <div class="container d-flex flex-column align-items-center">
    <!-- Social Media Icons -->
    <div class="d-flex gap-2 mt-1">
      <a href="http://www.facebook.com" class="text-dark">
        <i class="fab fa-facebook fa-2x"></i>
      </a>
      <a href="http://www.youtube.com" class="text-dark">
        <i class="fab fa-youtube fa-2x"></i>
      </a>
      <a href="http://www.instagram.com" class="text-dark">
        <i class="fab fa-instagram fa-2x"></i>
      </a>
      <a href="http://www.twitter.com" class="text-dark">
        <i class="fab fa-twitter fa-2x"></i>
      </a>
    </div>

    <!-- Copyright -->
    <div class="text-dark">
      <p class="mb-0">
        © 2023 Copyright:
        <a href="https://marks-bees.netlify.app/#/" class="text-dark"
          >Porcaro Farms</a
        >
      </p>
      <div>
        <a href="/privacy-policy" class="text-dark">Privacy Policy</a>
      </div>
    </div>
  </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/static/functions.js"></script>
<script>
  const apiKey = "<%= process.env.WEATHER_KEY %>";
  const apiUrl =
    "https://api.openweathermap.org/data/2.5/weather?units=imperial";

  async function getCurrentLocation() {
    return new Promise((resolve, reject) => {
      navigator.geolocation.getCurrentPosition(resolve, reject);
    });
  }

  async function checkWeather() {
    try {
      const position = await getCurrentLocation();
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;

      const response = await fetch(
        `${apiUrl}&lat=${lat}&lon=${lon}&appid=${apiKey}`
      );
      const data = await response.json();

      console.log(data);
      document.querySelector("#city").innerHTML = data.name;
      document.querySelector("#temp").innerHTML =
        Math.round(data.main.temp) + "℉";

      // 🌥️ 🌤️ 🌤️
      if (data.weather[0].main == "Clouds") {
        document.querySelector("#clouds").innerHTML = "🌥️";
      } else if (data.weather[0].main == "Clear") {
        document.querySelector("#clouds").innerHTML = "🌞";
      } else if (data.weather[0].main == "Rain") {
        document.querySelector("#clouds").innerHTML = "🌧️";
      } else if (data.weather[0].main == "Drizzle") {
        document.querySelector("#clouds").innerHTML = "🌦️";
      } else if (data.weather[0].main == "Mist") {
        document.querySelector("#clouds").innerHTML = "🌫️";
      } else if (data.weather[0].main == "Thunderstorm") {
        document.querySelector("#clouds").innerHTML = "⛈️";
      }
    } catch (error) {
      console.error("Error getting location or weather data:", error);
    }
  }
  document.addEventListener("DOMContentLoaded", checkWeather);
</script>
